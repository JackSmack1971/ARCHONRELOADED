# Docusaurus Documentation Guidelines for AI Agents

## Project Overview

This is a Docusaurus-based documentation site (v3.8.1+) that follows modern static site generation practices. The documentation lives in the `/docs/` directory and uses MDX for enhanced content capabilities with React components.

## Directory Structure

```
docs/
├── intro.md                 # Landing page for documentation
├── tutorial-basics/         # Getting started tutorials
├── tutorial-extras/         # Advanced tutorials  
├── guides/                  # How-to guides
└── api/                     # API reference documentation
```

## File Naming and Organization

- Use kebab-case for file names: `getting-started.md`, `api-reference.mdx`
- Include meaningful frontmatter in all documentation files
- Use `.mdx` extension when React components are needed, `.md` for plain markdown
- Organize related content in subdirectories with descriptive names

## Content Standards

### Frontmatter Requirements

Every documentation file must include proper frontmatter:

```yaml
---
id: unique-identifier
title: Human Readable Title
sidebar_position: 1
description: Brief description for SEO and previews
tags: [tag1, tag2]
---
```

### Writing Style

- Use clear, concise language appropriate for technical documentation
- Write in second person ("you") for instructions and tutorials
- Use active voice whenever possible
- Include code examples for all concepts
- Provide context before diving into technical details

### MDX Component Usage

When using React components in MDX files:

```markdown
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Tabs>
  <TabItem value="js" label="JavaScript">
    <CodeBlock language="js">
      console.log('Hello World');
    </CodeBlock>
  </TabItem>
  <TabItem value="ts" label="TypeScript">
    <CodeBlock language="ts">
      console.log('Hello World');
    </CodeBlock>
  </TabItem>
</Tabs>
```

## Code Documentation Standards

### Code Blocks

- Always specify language for syntax highlighting
- Use line highlighting for emphasis: `js {2,4-6}`
- Include file names when showing file contents: `title="src/components/Button.js"`
- Use live code examples when appropriate with `@docusaurus/theme-live-codeblock`

```javascript title="docusaurus.config.js"
export default {
  title: 'My Site',
  tagline: 'Documentation site',
  url: 'https://mysite.com',
  baseUrl: '/',
  // highlight-start
  organizationName: 'my-org',
  projectName: 'my-project',
  // highlight-end
  trailingSlash: false,
};
```

### Configuration Examples

When documenting Docusaurus configuration:

- Use ES module syntax: `export default { ... }` not `module.exports`
- Include essential fields: `title`, `tagline`, `url`, `baseUrl`, `organizationName`, `projectName`
- Show complete configuration blocks when possible
- Explain the purpose of each configuration option

## Development Workflow

### Building and Testing Documentation

```bash
# Install dependencies
npm install

# Start development server
npm run start

# Build for production
npm run build

# Serve production build locally
npm run serve

# Check for broken links
npm run build -- --build-failure-on-error
```

### Content Validation

Before committing documentation changes:

1. Run `npm run build` to check for build errors
2. Verify all internal links work correctly
3. Check that all images and assets load properly
4. Test responsive design on mobile devices
5. Validate accessibility with screen readers

## Sidebar Configuration

The sidebar is configured in `/sidebars.js`. When adding new documentation:

- Use `sidebar_position` frontmatter to control ordering
- Group related content into categories
- Prefer autogenerated sidebars when possible:

```javascript
module.exports = {
  tutorialSidebar: [
    'intro',
    {
      type: 'category',
      label: 'Tutorial',
      items: [
        {
          type: 'autogenerated',
          dirName: 'tutorial-basics',
        },
      ],
    },
  ],
};
```

## Common Pitfalls to Avoid

### Content Issues

- **Broken Links**: Always use relative paths for internal links: `[link](./other-doc.md)`
- **Missing Frontmatter**: Every file needs at least `id` and `title`
- **JSX Errors**: Capitalize React components and properly escape curly braces: `\{notJSX\}`
- **Image Paths**: Place images in `/static/img/` and reference as `/img/filename.png`

### Technical Issues

- **Build Failures**: Check console for MDX parsing errors and fix JSX syntax
- **Hot Reload**: Restart dev server if changes don't propagate
- **Performance**: Optimize large images before placing in `/static/` directory
- **Versioning**: Use semantic versioning: `npm run docusaurus docs:version 1.0.0`

## Accessibility Requirements

- Use proper heading hierarchy (h1 → h2 → h3)
- Include alt text for all images
- Ensure sufficient color contrast
- Test keyboard navigation
- Use semantic HTML elements
- Provide captions for videos

## Internationalization

When preparing content for translation:

- Extract translatable strings: `npm run docusaurus write-translations`
- Use `<Translate>` component for inline translations
- Place locale-specific content in `i18n/[locale]/` directories
- Configure supported locales in `docusaurus.config.js`

## Security Considerations

- Never include sensitive information in documentation
- Use environment variables for dynamic content: `process.env.CUSTOM_FIELD`
- Validate external links regularly
- Implement Content Security Policy if hosting allows
- Keep dependencies updated for security patches

## Performance Optimization

- Compress images before adding to `/static/img/`
- Use lazy loading for heavy content
- Minimize custom CSS and use CSS modules
- Enable webpack optimizations carefully in production
- Monitor build times and optimize slow builds

## Git Workflow

- Work on the current branch, do not create new branches
- Commit all documentation changes with descriptive messages
- Ensure git worktree is clean after changes
- Include file citations when referring to specific documentation: `F:docs/intro.md†L15`
- Run all validation checks before committing

## Pull Request Guidelines

- Title format: `[Docs] Brief description of changes`
- Include before/after screenshots for visual changes
- Test all links and functionality
- Update sidebar configuration if adding new sections
- Include accessibility testing results

## Additional Resources

- [Docusaurus Documentation](https://docusaurus.io/docs)
- [MDX Documentation](https://mdxjs.com/)
- [React Components Guide](https://docusaurus.io/docs/markdown-features/react)
- [Deployment Guide](https://docusaurus.io/docs/deployment)

## Testing Checklist

Before submitting documentation changes:

- [ ] Build passes without errors: `npm run build`
- [ ] All internal links work correctly
- [ ] Images and assets load properly
- [ ] Mobile responsiveness verified
- [ ] Accessibility tested with screen reader
- [ ] SEO metadata included in frontmatter
- [ ] Code examples are accurate and tested
- [ ] Sidebar navigation updated if needed
